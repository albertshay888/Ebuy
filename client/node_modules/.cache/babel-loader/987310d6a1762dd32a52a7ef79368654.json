{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/albertshay/Desktop/silkroad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/albertshay/Desktop/silkroad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/albertshay/Desktop/silkroad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/albertshay/Desktop/silkroad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _require = require('preact'),\n    h = _require.h,\n    Component = _require.Component;\n\nvar classNames = require('classnames');\n\nvar shallowEqual = require('is-shallow-equal');\n\nvar FilePreviewAndLink = require('./FilePreviewAndLink');\n\nvar FileProgress = require('./FileProgress');\n\nvar FileInfo = require('./FileInfo');\n\nvar Buttons = require('./Buttons');\n\nmodule.exports = /*#__PURE__*/function (_Component) {\n  _inherits(FileItem, _Component);\n\n  var _super = _createSuper(FileItem);\n\n  function FileItem() {\n    _classCallCheck(this, FileItem);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FileItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var file = this.props.file;\n\n      if (!file.preview) {\n        this.props.handleRequestThumbnail(file);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !shallowEqual(this.props, nextProps);\n    } // VirtualList mounts FileItems again and they emit `thumbnail:request`\n    // Otherwise thumbnails are broken or missing after Golden Retriever restores files\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var file = this.props.file;\n\n      if (!file.preview) {\n        this.props.handleRequestThumbnail(file);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var file = this.props.file;\n\n      if (!file.preview) {\n        this.props.handleCancelThumbnail(file);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var file = this.props.file;\n      var isProcessing = file.progress.preprocess || file.progress.postprocess;\n      var isUploaded = file.progress.uploadComplete && !isProcessing && !file.error;\n      var uploadInProgressOrComplete = file.progress.uploadStarted || isProcessing;\n      var uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;\n      var error = file.error || false; // File that Golden Retriever was able to partly restore (only meta, not blob),\n      // users still need to re-add it, so it’s a ghost\n\n      var isGhost = file.isGhost;\n      var showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;\n\n      if (isUploaded && this.props.showRemoveButtonAfterComplete) {\n        showRemoveButton = true;\n      }\n\n      var dashboardItemClass = classNames({\n        'uppy-Dashboard-Item': true,\n        'is-inprogress': uploadInProgress && !this.props.recoveredState,\n        'is-processing': isProcessing,\n        'is-complete': isUploaded,\n        'is-error': !!error,\n        'is-resumable': this.props.resumableUploads,\n        'is-noIndividualCancellation': !this.props.individualCancellation,\n        'is-ghost': isGhost\n      });\n      return h(\"div\", {\n        className: dashboardItemClass,\n        id: \"uppy_\".concat(file.id),\n        role: this.props.role\n      }, h(\"div\", {\n        className: \"uppy-Dashboard-Item-preview\"\n      }, h(FilePreviewAndLink, {\n        file: file,\n        showLinkToFileUploadResult: this.props.showLinkToFileUploadResult\n      }), h(FileProgress, {\n        uppy: this.props.uppy,\n        file: file,\n        error: error,\n        isUploaded: isUploaded,\n        hideRetryButton: this.props.hideRetryButton,\n        hideCancelButton: this.props.hideCancelButton,\n        hidePauseResumeButton: this.props.hidePauseResumeButton,\n        recoveredState: this.props.recoveredState,\n        showRemoveButtonAfterComplete: this.props.showRemoveButtonAfterComplete,\n        resumableUploads: this.props.resumableUploads,\n        individualCancellation: this.props.individualCancellation,\n        i18n: this.props.i18n\n      })), h(\"div\", {\n        className: \"uppy-Dashboard-Item-fileInfoAndButtons\"\n      }, h(FileInfo, {\n        file: file,\n        id: this.props.id,\n        acquirers: this.props.acquirers,\n        containerWidth: this.props.containerWidth,\n        i18n: this.props.i18n,\n        toggleAddFilesPanel: this.props.toggleAddFilesPanel\n      }), h(Buttons, {\n        file: file,\n        metaFields: this.props.metaFields,\n        showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n        showRemoveButton: showRemoveButton,\n        canEditFile: this.props.canEditFile,\n        uploadInProgressOrComplete: uploadInProgressOrComplete,\n        toggleFileCard: this.props.toggleFileCard,\n        openFileEditor: this.props.openFileEditor,\n        uppy: this.props.uppy,\n        i18n: this.props.i18n\n      })));\n    }\n  }]);\n\n  return FileItem;\n}(Component);","map":{"version":3,"sources":["/Users/albertshay/Desktop/silkroad/client/node_modules/@uppy/dashboard/lib/components/FileItem/index.js"],"names":["require","h","Component","classNames","shallowEqual","FilePreviewAndLink","FileProgress","FileInfo","Buttons","module","exports","file","props","preview","handleRequestThumbnail","nextProps","handleCancelThumbnail","isProcessing","progress","preprocess","postprocess","isUploaded","uploadComplete","error","uploadInProgressOrComplete","uploadStarted","uploadInProgress","isGhost","showRemoveButton","individualCancellation","showRemoveButtonAfterComplete","dashboardItemClass","recoveredState","resumableUploads","className","id","role","showLinkToFileUploadResult","uppy","hideRetryButton","hideCancelButton","hidePauseResumeButton","i18n","acquirers","containerWidth","toggleAddFilesPanel","metaFields","canEditFile","toggleFileCard","openFileEditor"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst {\n  h,\n  Component\n} = require('preact');\n\nconst classNames = require('classnames');\n\nconst shallowEqual = require('is-shallow-equal');\n\nconst FilePreviewAndLink = require('./FilePreviewAndLink');\n\nconst FileProgress = require('./FileProgress');\n\nconst FileInfo = require('./FileInfo');\n\nconst Buttons = require('./Buttons');\n\nmodule.exports = class FileItem extends Component {\n  componentDidMount() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(this.props, nextProps);\n  } // VirtualList mounts FileItems again and they emit `thumbnail:request`\n  // Otherwise thumbnails are broken or missing after Golden Retriever restores files\n\n\n  componentDidUpdate() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n\n  componentWillUnmount() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleCancelThumbnail(file);\n    }\n  }\n\n  render() {\n    const {\n      file\n    } = this.props;\n    const isProcessing = file.progress.preprocess || file.progress.postprocess;\n    const isUploaded = file.progress.uploadComplete && !isProcessing && !file.error;\n    const uploadInProgressOrComplete = file.progress.uploadStarted || isProcessing;\n    const uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;\n    const error = file.error || false; // File that Golden Retriever was able to partly restore (only meta, not blob),\n    // users still need to re-add it, so it’s a ghost\n\n    const {\n      isGhost\n    } = file;\n    let showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;\n\n    if (isUploaded && this.props.showRemoveButtonAfterComplete) {\n      showRemoveButton = true;\n    }\n\n    const dashboardItemClass = classNames({\n      'uppy-Dashboard-Item': true,\n      'is-inprogress': uploadInProgress && !this.props.recoveredState,\n      'is-processing': isProcessing,\n      'is-complete': isUploaded,\n      'is-error': !!error,\n      'is-resumable': this.props.resumableUploads,\n      'is-noIndividualCancellation': !this.props.individualCancellation,\n      'is-ghost': isGhost\n    });\n    return h(\"div\", {\n      className: dashboardItemClass,\n      id: `uppy_${file.id}`,\n      role: this.props.role\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-preview\"\n    }, h(FilePreviewAndLink, {\n      file: file,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult\n    }), h(FileProgress, {\n      uppy: this.props.uppy,\n      file: file,\n      error: error,\n      isUploaded: isUploaded,\n      hideRetryButton: this.props.hideRetryButton,\n      hideCancelButton: this.props.hideCancelButton,\n      hidePauseResumeButton: this.props.hidePauseResumeButton,\n      recoveredState: this.props.recoveredState,\n      showRemoveButtonAfterComplete: this.props.showRemoveButtonAfterComplete,\n      resumableUploads: this.props.resumableUploads,\n      individualCancellation: this.props.individualCancellation,\n      i18n: this.props.i18n\n    })), h(\"div\", {\n      className: \"uppy-Dashboard-Item-fileInfoAndButtons\"\n    }, h(FileInfo, {\n      file: file,\n      id: this.props.id,\n      acquirers: this.props.acquirers,\n      containerWidth: this.props.containerWidth,\n      i18n: this.props.i18n,\n      toggleAddFilesPanel: this.props.toggleAddFilesPanel\n    }), h(Buttons, {\n      file: file,\n      metaFields: this.props.metaFields,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      showRemoveButton: showRemoveButton,\n      canEditFile: this.props.canEditFile,\n      uploadInProgressOrComplete: uploadInProgressOrComplete,\n      toggleFileCard: this.props.toggleFileCard,\n      openFileEditor: this.props.openFileEditor,\n      uppy: this.props.uppy,\n      i18n: this.props.i18n\n    })));\n  }\n\n};"]},"metadata":{},"sourceType":"script"}